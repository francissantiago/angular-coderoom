<div class="h-full w-full bg-[#1e1e1e] flex flex-col rounded-lg overflow-hidden">
  <div class="flex-shrink-0 bg-[#3c3c3c] px-4 py-2 text-sm font-medium text-gray-300 flex items-center">
    @switch (language()) {
      @case ('html') {
        <svg class="w-5 h-5 mr-2 text-orange-500" fill="currentColor" viewBox="0 0 20 20"><path d="M1.5 2.5a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v15a.5.5 0 01-.5.5h-16a.5.5 0 01-.5-.5v-15zM2 3v14h16V3H2zm3.5 2a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h2a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-2zm-1 3a.5.5 0 000 1h10a.5.5 0 000-1H4.5zm0 3a.5.5 0 000 1h10a.5.5 0 000-1H4.5zm0 3a.5.5 0 000 1h4a.5.5 0 000-1h-4z"></path></svg>
      }
      @case ('css') {
        <svg class="w-5 h-5 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path d="M3 3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V4a1 1 0 00-1-1H3zm13 12H4V5h12v10zm-3.09-7.59a.5.5 0 00-.7.7l1.5 1.5-1.5 1.5a.5.5 0 10.7.7l2-2a.5.5 0 000-.7l-2-2zM7.59 7.91a.5.5 0 10-.7.7l-2 2a.5.5 0 000 .7l2 2a.5.5 0 10.7-.7L6.29 11l1.3-1.39z"></path></svg>
      }
      @case ('js') {
        <svg class="w-5 h-5 mr-2 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.5 3a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zM8.5 3a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zM6 5.5A1.5 1.5 0 017.5 4h5A1.5 1.5 0 0114 5.5v1.235a.5.5 0 01-.22.42l-2.43 1.735a.5.5 0 000 .7l2.43 1.735a.5.5 0 01.22.42V14.5A1.5 1.5 0 0112.5 16h-5A1.5 1.5 0 016 14.5v-2.735a.5.5 0 01.22-.42l2.43-1.735a.5.5 0 000-.7L6.22 7.155a.5.5 0 01-.22-.42V5.5zm1.5 0v1.085l2.21 1.579a1.5 1.5 0 010 2.1l-2.21 1.579V14.5h5V12.15l-2.21-1.578a1.5 1.5 0 010-2.1L12.5 6.585V5.5h-5z" clip-rule="evenodd"></path></svg>
      }
    }
    {{ title() }}
  </div>
  <div class="relative flex-grow w-full">
    <textarea #editorTextarea
      class="editor-textarea"
      (input)="onCodeInput($event)"
      (keydown)="onKeyDown($event)"
      (scroll)="syncScroll()"
      [readOnly]="isReadOnly()"
      [attr.aria-label]="title()"
      spellcheck="false"
      wrap="off"
    ></textarea>
    <pre #editorPre
         class="editor-pre line-numbers"
         [class]="'language-' + language()"
         aria-hidden="true"
    ><code #editorCode class="editor-code"></code></pre>
  </div>
</div>